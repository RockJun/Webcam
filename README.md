# 笔记本摄像头人脸识别

## 初始化和目录设置：
- 首先，它会创建一个用来保存人脸照片的目录（如果它不存在的话）。

## 摄像头设置：
- 程序利用OpenCV来初始化摄像头并设置分辨率。

## 全局变量声明：
- 设定了一些全局变量来存储程序的状态，例如最后捕获图像的时间、参照人脸等。

## 线程锁和信号：
- 使用了`threading.Lock()`实现一个线程锁，用于同步不同线程对共享资源（捕获的视频帧）的访问。
- `process_this_frame` 是一个信号变量，用于告诉程序何时对视频流的帧进行分析。

## 拍照功能：
- `save_face_picture` 函数用于将检测到的当前人脸图像保存为图片文件。

## 人脸识别处理线程：
- `face_recognition_handler` 函数运行在一个单独的线程中。它会周期性地进行人脸识别，并在满足特定条件时保存照片。
- 这个函数会不断循环，每次循环时都会检查是否应该处理当前帧（`if not process_this_frame or shared_frame is None`），然后从摄像头获取的帧缩放并转换成RGB颜色空间，以便使用face_recognition库进行人脸识别。

## 人脸比对与保存：
- 如果程序检测到人脸，并且这张人脸和之前保存的参照面孔不匹配，或者距上次保存的时间超过了一分钟，则将会保存这个新的人脸图片。

## 主循环：
- 主循环不断地从摄像头读取帧。
- 使用`cv2.imshow`显示当前帧。
- 按下 'q' 键会结束程序，并释放摄像头以及销毁所有OpenCV创建的窗口。

## 开始人脸识别线程：
- 使用`threading.Thread`启动了`face_recognition_handler`函数作为一个守护线程(`daemon=True`)，这意味着这个线程不会阻止程序退出。

整个代码将会持续从摄像头捕获视频帧，并在新线程中进行人脸识别处理直到用户按下 'q' 键退出程序。
经过优化的多线程应用程序允许视频帧显示与人脸识别同时进行，减少了单线程应用中由于人脸识别耗时操作导致的视频流延迟或卡顿现象。
